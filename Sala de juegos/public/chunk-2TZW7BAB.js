import{a as S,b}from"./chunk-BKKPCO3N.js";import"./chunk-5PDZ6P5C.js";import{A as n,B as s,C as p,D as m,E as c,F as o,G as M,M as O,S as P,T as k,W as w,X as y,Z as E,h,l as g,m as u,r as _,s as l,t as C,w as v,x as f,z as e}from"./chunk-RC6RUPVX.js";import{h as x}from"./chunk-RS6LHQUM.js";function I(i,L){if(i&1){let t=p();e(0,"div",13)(1,"p"),o(2,"No hay sesi\xF3n activa."),n(),e(3,"div",14)(4,"button",15),m("click",function(){g(t);let a=c();return u(a.goToLogin())}),o(5,"Iniciar sesi\xF3n"),n(),s(6,"br")(7,"br"),e(8,"button",16),o(9,"Registro"),n()()()}}function U(i,L){if(i&1){let t=p();e(0,"div",17)(1,"p"),o(2,"Sesi\xF3n iniciada como: "),e(3,"strong"),o(4),n()(),e(5,"button",18),m("click",function(){g(t);let a=c();return u(a.logout())}),o(6,"Cerrar sesi\xF3n"),n()()}if(i&2){let t=c();l(4),M(t.userEmail)}}var d=S(b.apiUrl,b.publicAnonKey),V=(()=>{class i{constructor(t){this.router=t,this.usersdata=[],this.userEmail=null,this.isLoggedIn=!1}ngOnInit(){this.checkSession(),this.getUserData()}checkSession(){return x(this,null,function*(){let{data:{session:t}}=yield d.auth.getSession();t?(this.isLoggedIn=!0,this.userEmail=t.user.email??null):this.isLoggedIn=!1})}getUserData(){d.from("users-data").select("*").then(({data:t,error:r})=>{r?console.error("Error:",r.message):(this.usersdata=t,this.usersdata.forEach(a=>{console.log("Avatar URL:",this.getAvatarUrl(a.avatarUrl))}))})}getAvatarUrl(t){return d.storage.from("images").getPublicUrl(t).data.publicUrl}logout(){d.auth.signOut().then(()=>{this.isLoggedIn=!1,this.userEmail=null}).catch(t=>{console.error("Error al cerrar sesi\xF3n:",t.message)})}goToLogin(){this.router.navigate(["/login"])}static{this.\u0275fac=function(r){return new(r||i)(C(w))}}static{this.\u0275cmp=h({type:i,selectors:[["app-home"]],standalone:!0,features:[O],decls:20,vars:2,consts:[["href",_`https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap`,"rel","stylesheet"],[1,"home-container"],[1,"top-buttons"],["routerLink","/quien-soy",1,"game-button"],["routerLink","/lista-jugadores",1,"game-button"],[2,"border","2px solid #fdd835","width","60%","box-shadow","0 0 10px #fdd835"],[1,"title"],[1,"game-list"],["routerLink","/ahorcado",1,"game-button"],["routerLink","/mayor-o-menor",1,"game-button"],["routerLink","/preguntados",1,"game-button"],["class","login-section",4,"ngIf"],["class","user-info",4,"ngIf"],[1,"login-section"],[1,"auth-buttons"],[1,"login-button",3,"click"],["routerLink","/register",1,"login-button"],[1,"user-info"],[1,"logout-button",3,"click"]],template:function(r,a){r&1&&(s(0,"link",0),e(1,"div",1)(2,"div",2)(3,"button",3),o(4,"Qui\xE9n Soy"),n(),e(5,"button",4),o(6,"Lista de Jugadores"),n()(),s(7,"hr",5),e(8,"h1",6),o(9,"\u{1F3AE} Central de juegos "),n(),e(10,"div",7)(11,"button",8),o(12,"Ahorcado"),n(),e(13,"button",9),o(14,"Mayor o Menor"),n(),e(15,"button",10),o(16,"Preguntados"),n()(),s(17,"hr",5),v(18,I,10,0,"div",11)(19,U,7,1,"div",12),n()),r&2&&(l(18),f("ngIf",!a.isLoggedIn),l(),f("ngIf",a.isLoggedIn))},dependencies:[k,P,E,y],styles:["body[_ngcontent-%COMP%]{background-color:#000;font-family:Orbitron,sans-serif;margin:0;padding:0;height:100%;color:#fff;display:flex;justify-content:center;align-items:flex-start}.home-container[_ngcontent-%COMP%]{width:100%;height:100%;box-sizing:border-box;background-color:#000;padding:20px;display:flex;flex-direction:column;align-items:center}.top-buttons[_ngcontent-%COMP%]{display:flex;gap:20px;margin:30px 0;flex-wrap:wrap}.top-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .top-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:transparent;border:2px solid #fdd835;color:#fdd835;padding:10px 16px;font-size:.9rem;text-transform:uppercase;border-radius:8px;box-shadow:0 0 10px #fdd835;transition:all .3s ease;cursor:pointer}.top-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover, .top-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#fdd835;color:#000}.title[_ngcontent-%COMP%]{font-size:3.2rem;text-align:center;color:#000;text-shadow:0 0 5px #ffffff,0 0 10px #f44336,0 0 15px #3800bb,0 0 20px #ff4081,0 0 30px #ff4081,0 0 40px #ff4081,0 0 50px #ff4081,0 0 60px #ff4081;margin-bottom:30px}.title[_ngcontent-%COMP%]:hover{font-size:3.3rem;color:#000;text-shadow:0 0 5px #ffffff,0 0 10px #3800bb,0 0 15px #3800bb,0 0 20px #3800bb,0 0 30px #3800bb,0 0 40px #3800bb,0 0 50px #3800bb,0 0 60px #3800bb;transition:all .5s ease}.game-list[_ngcontent-%COMP%]{display:flex;gap:15px;flex-wrap:wrap;justify-content:center;margin-bottom:30px}.game-button[_ngcontent-%COMP%]{background-color:#f3c221;color:#400;border:2px solid #fff;padding:12px 20px;font-size:1rem;text-transform:uppercase;border-radius:18px;box-shadow:0 0 8px #f3de21;transition:all .3s ease;font-weight:700}.game-button[_ngcontent-%COMP%]:hover{background-color:#b15e00;color:#fff;transform:scale(1.05)}.login-section[_ngcontent-%COMP%], .user-info[_ngcontent-%COMP%]{text-align:center;margin-top:20px;color:#fffae4}.login-button[_ngcontent-%COMP%], .logout-button[_ngcontent-%COMP%]{background-color:#818181;color:#fff;border:2px solid #fff;padding:10px 18px;border-radius:16px;text-transform:uppercase;box-shadow:0 0 6px #f44336;transition:all .3s ease}.login-button[_ngcontent-%COMP%]:hover, .logout-button[_ngcontent-%COMP%]:hover{background-color:#000;color:#f10000}.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:30px;color:#fff;font-size:.85rem}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#ffeb3b;color:#000;border:2px solid #fff;text-transform:uppercase}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #fff}.avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;border:2px solid #2196f3}"]})}}return i})();export{V as HomeComponent};
