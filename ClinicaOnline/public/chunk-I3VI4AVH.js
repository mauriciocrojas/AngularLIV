import{Ma as c,Na as o,i as u}from"./chunk-DKADGSXX.js";import{a as i,i as n}from"./chunk-P2VZOJAX.js";var f=(()=>{class s{constructor(){this.supabase=c(o.apiUrl,o.publicAnonKey)}getClient(){return this.supabase}getUser(){return n(this,null,function*(){let{data:e}=yield this.supabase.auth.getUser(),r=e?.user;if(!r)return null;let{data:a,error:t}=yield this.supabase.from("usuarios").select("*").eq("id",r.id).single();return t?(console.error("Error al obtener perfil del usuario:",t.message),null):i(i({},r),a)})}signIn(e,r){return n(this,null,function*(){let{data:a,error:t}=yield this.supabase.auth.signInWithPassword({email:e,password:r});return t?(console.error("Error signing in:",t.message),null):a.user})}signUp(e,r){return n(this,null,function*(){let{data:a,error:t}=yield this.supabase.auth.signUp({email:e,password:r});return t?(console.error("Error signing up:",t.message),null):a.user})}signOut(){return n(this,null,function*(){yield this.supabase.auth.signOut()})}static{this.\u0275fac=function(r){return new(r||s)}}static{this.\u0275prov=u({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();export{f as a};
