import{a as H,b as B,c as ve}from"./chunk-DCVF3DOI.js";import{a as ae,b as re,c as se,d as le,e as ce,f as de,g as me,h as pe,i as ue,j as _e,p as ge}from"./chunk-GS6HGKLI.js";import{$ as q,B as j,Ba as ie,C as G,D as l,Ja as ne,L as x,La as oe,Ma as fe,N as m,Na as z,P as n,Q as i,R as b,S as D,T as A,U as y,V as v,W as c,aa as r,ba as F,ca as w,da as W,fa as U,ga as S,ha as P,ja as K,ka as Y,ma as J,na as Q,o as R,s as p,t as u,ua as Z,va as ee,ya as te}from"./chunk-DKADGSXX.js";import"./chunk-SZXJF6TW.js";import{a as $,b as X,g as he,i as N}from"./chunk-P2VZOJAX.js";var L=he(ve());function Ce(o,d){o&1&&(n(0,"div",7),b(1,"div",8),i())}function be(o,d){if(o&1){let e=y();n(0,"button",25),v("click",function(){p(e);let t=c().$implicit,s=c(3);return u(s.cambiarEstado(t))}),r(1),i()}if(o&2){let e=c().$implicit;l(),w(" ",e.confirmado?"Inhabilitar":"Habilitar"," ")}}function we(o,d){if(o&1){let e=y();n(0,"div",18)(1,"button",19),v("click",function(){let t=p(e).$implicit,s=c(3);return u(s.descargarTurnosUsuario(t))}),b(2,"img",20),n(3,"span",21),r(4),i(),b(5,"i",22),i(),n(6,"div",23),x(7,be,2,1,"button",24),i()()}if(o&2){let e=d.$implicit,a=c(3);l(2),m("src",e.imagenes&&e.imagenes.length>0?a.getImageUrl(e.imagenes[0]):"assets/default-user.png",j),l(2),W("",e.nombre," ",e.apellido,""),l(3),m("ngIf",e.tipo_usuario==="especialista")}}function Me(o,d){if(o&1&&(D(0),n(1,"div",15)(2,"h4"),r(3,"Especialistas"),i(),n(4,"div",16),x(5,we,8,4,"div",17),i()(),A()),o&2){let e=c(2);l(5),m("ngForOf",e.groupedUsers.especialista)}}function Ee(o,d){if(o&1){let e=y();n(0,"button",25),v("click",function(){p(e);let t=c().$implicit,s=c(3);return u(s.verHistoriaClinica(t.id,t.nombre+" "+t.apellido))}),r(1," Ver Historia Clinica "),i()}}function ye(o,d){if(o&1){let e=y();n(0,"div",18)(1,"button",19),v("click",function(){let t=p(e).$implicit,s=c(3);return u(s.descargarTurnosUsuario(t))}),b(2,"img",20),n(3,"span",21),r(4),i(),b(5,"i",22),i(),n(6,"div",23),x(7,Ee,2,0,"button",24),i()()}if(o&2){let e=d.$implicit,a=c(3);l(2),m("src",e.imagenes&&e.imagenes.length>0?a.getImageUrl(e.imagenes[0]):"assets/default-user.png",j),l(2),W("",e.nombre," ",e.apellido,""),l(3),m("ngIf",e.tipo_usuario==="paciente")}}function Ue(o,d){if(o&1&&(D(0),n(1,"div",15)(2,"h4"),r(3,"Pacientes"),i(),n(4,"div",16),x(5,ye,8,4,"div",17),i()(),A()),o&2){let e=c(2);l(5),m("ngForOf",e.groupedUsers.paciente)}}function Se(o,d){if(o&1){let e=y();n(0,"div",18)(1,"button",19),v("click",function(){let t=p(e).$implicit,s=c(3);return u(s.descargarTurnosUsuario(t))}),b(2,"img",20),n(3,"span",21),r(4),i(),b(5,"i",22),i()()}if(o&2){let e=d.$implicit,a=c(3);l(2),m("src",e.imagenes&&e.imagenes.length>0?a.getImageUrl(e.imagenes[0]):"assets/default-user.png",j),l(2),W("",e.nombre," ",e.apellido,"")}}function Pe(o,d){if(o&1&&(D(0),n(1,"div",15)(2,"h4"),r(3,"Administradores"),i(),n(4,"div",16),x(5,Se,6,3,"div",17),i()(),A()),o&2){let e=c(2);l(5),m("ngForOf",e.groupedUsers.administrador)}}function Oe(o,d){if(o&1&&(n(0,"div",26),r(1),i()),o&2){let e=c(2);l(),F(e.mensaje2)}}function ke(o,d){if(o&1&&(n(0,"div",26),r(1),i()),o&2){let e=c(2);l(),F(e.mensaje)}}function Te(o,d){if(o&1){let e=y();n(0,"div",27)(1,"strong"),r(2,"Seleccion\xE1 el tipo de usuario:"),i(),n(3,"div",28)(4,"div",29),v("click",function(){p(e);let t=c(2);return u(t.nuevoUsuario.tipo_usuario="paciente")}),b(5,"img",30),n(6,"span"),r(7,"Paciente"),i()(),n(8,"div",29),v("click",function(){p(e);let t=c(2);return u(t.nuevoUsuario.tipo_usuario="especialista")}),b(9,"img",31),n(10,"span"),r(11,"Especialista"),i()(),n(12,"div",29),v("click",function(){p(e);let t=c(2);return u(t.nuevoUsuario.tipo_usuario="administrador")}),b(13,"img",32),n(14,"span"),r(15,"Administrador"),i()()()()}}function Ie(o,d){if(o&1&&(n(0,"option",48),r(1),i()),o&2){let e=d.$implicit;m("value",e),l(),F(e)}}function Ve(o,d){if(o&1){let e=y();n(0,"fieldset")(1,"legend"),r(2,"Datos del Especialista"),i(),n(3,"div",35)(4,"label"),r(5,"Especialidad existente:"),i(),n(6,"select",44),P("ngModelChange",function(t){p(e);let s=c(3);return S(s.nuevoUsuario.especialidadSeleccionada,t)||(s.nuevoUsuario.especialidadSeleccionada=t),u(t)}),n(7,"option",45),r(8,"Seleccionar especialidad"),i(),x(9,Ie,2,2,"option",46),i(),n(10,"input",47),P("ngModelChange",function(t){p(e);let s=c(3);return S(s.nuevoUsuario.nuevaEspecialidad,t)||(s.nuevoUsuario.nuevaEspecialidad=t),u(t)}),i()()()}if(o&2){let e=c(3);l(6),U("ngModel",e.nuevoUsuario.especialidadSeleccionada),l(3),m("ngForOf",e.especialidades),l(),U("ngModel",e.nuevoUsuario.nuevaEspecialidad)}}function Ne(o,d){if(o&1){let e=y();n(0,"fieldset")(1,"legend"),r(2,"Datos del Paciente"),i(),n(3,"div",35)(4,"label"),r(5,"Obra Social:"),i(),n(6,"select",49),P("ngModelChange",function(t){p(e);let s=c(3);return S(s.nuevoUsuario.obra_social,t)||(s.nuevoUsuario.obra_social=t),u(t)}),n(7,"option",45),r(8,"Seleccionar obra social"),i(),n(9,"option",50),r(10,"Swiss Medical"),i(),n(11,"option",51),r(12,"Galeno"),i(),n(13,"option",52),r(14,"OSDE"),i()()()()}if(o&2){let e=c(3);l(6),U("ngModel",e.nuevoUsuario.obra_social)}}function je(o,d){if(o&1){let e=y();n(0,"form",33)(1,"button",34),v("click",function(){p(e);let t=c(2);return u(t.nuevoUsuario.tipo_usuario="")}),r(2,"\u2190 Volver a elegir tipo"),i(),n(3,"fieldset")(4,"legend"),r(5,"Datos Generales"),i(),n(6,"div",35)(7,"input",36),P("ngModelChange",function(t){p(e);let s=c(2);return S(s.nuevoUsuario.nombre,t)||(s.nuevoUsuario.nombre=t),u(t)}),i(),n(8,"input",37),P("ngModelChange",function(t){p(e);let s=c(2);return S(s.nuevoUsuario.apellido,t)||(s.nuevoUsuario.apellido=t),u(t)}),i(),n(9,"input",38),P("ngModelChange",function(t){p(e);let s=c(2);return S(s.nuevoUsuario.edad,t)||(s.nuevoUsuario.edad=t),u(t)}),i(),n(10,"input",39),P("ngModelChange",function(t){p(e);let s=c(2);return S(s.nuevoUsuario.dni,t)||(s.nuevoUsuario.dni=t),u(t)}),i()()(),n(11,"fieldset")(12,"legend"),r(13,"Acceso"),i(),n(14,"div",35)(15,"input",40),P("ngModelChange",function(t){p(e);let s=c(2);return S(s.nuevoUsuario.email,t)||(s.nuevoUsuario.email=t),u(t)}),i(),n(16,"input",41),P("ngModelChange",function(t){p(e);let s=c(2);return S(s.nuevoUsuario.password,t)||(s.nuevoUsuario.password=t),u(t)}),i(),n(17,"input",42),v("change",function(t){p(e);let s=c(2);return u(s.onFilesSelected(t))}),i(),n(18,"label"),r(19),i()()(),x(20,Ve,11,3,"fieldset",5)(21,Ne,15,1,"fieldset",5),n(22,"button",43),v("click",function(){p(e);let t=c(2);return u(t.crearUsuario())}),r(23,"Crear Usuario"),i()()}if(o&2){let e=c(2);l(7),U("ngModel",e.nuevoUsuario.nombre),l(),U("ngModel",e.nuevoUsuario.apellido),l(),U("ngModel",e.nuevoUsuario.edad),l(),U("ngModel",e.nuevoUsuario.dni),l(5),U("ngModel",e.nuevoUsuario.email),l(),U("ngModel",e.nuevoUsuario.password),l(3),w("Seleccionar ",e.nuevoUsuario.tipo_usuario==="paciente"?"2 im\xE1genes":"1 imagen",""),l(),m("ngIf",e.nuevoUsuario.tipo_usuario==="especialista"),l(),m("ngIf",e.nuevoUsuario.tipo_usuario==="paciente")}}function De(o,d){if(o&1&&(n(0,"div")(1,"h3"),r(2,"Usuarios Registrados"),i(),n(3,"div",9),x(4,Me,6,1,"ng-container",5)(5,Ue,6,1,"ng-container",5)(6,Pe,6,1,"ng-container",5),i(),x(7,Oe,2,1,"div",10),n(8,"h3"),r(9,"Crear Nuevo Usuario"),i(),x(10,ke,2,1,"div",10)(11,Te,16,0,"div",11)(12,je,24,9,"form",12),n(13,"div",13)(14,"button",14),r(15,"Volver"),i()()()),o&2){let e=c();l(4),m("ngIf",e.groupedUsers.especialista&&e.groupedUsers.especialista.length>0),l(),m("ngIf",e.groupedUsers.paciente&&e.groupedUsers.paciente.length>0),l(),m("ngIf",e.groupedUsers.administrador&&e.groupedUsers.administrador.length>0),l(),m("ngIf",e.mensaje2),l(3),m("ngIf",e.mensaje),l(),m("ngIf",!e.nuevoUsuario.tipo_usuario),l(),m("ngIf",e.nuevoUsuario.tipo_usuario)}}function Ae(o,d){if(o&1&&(n(0,"li")(1,"strong"),r(2),i(),r(3),i()),o&2){let e=d.$implicit,a=c(2).$implicit;l(2),w("",e,":"),l(),w(" ",a.datos_dinamicos[e]," ")}}function Fe(o,d){if(o&1&&(n(0,"div")(1,"h5"),r(2,"Datos Adicionales:"),i(),n(3,"ul"),x(4,Ae,4,2,"li",59),i()()),o&2){let e=c().$implicit,a=c(3);l(4),m("ngForOf",a.getObjectKeys(e.datos_dinamicos))}}function We(o,d){if(o&1&&(n(0,"div",58)(1,"h4"),r(2),Y(3,"date"),i(),n(4,"p")(5,"strong"),r(6,"Especialista:"),i(),r(7),i(),n(8,"p")(9,"strong"),r(10,"Especialidad:"),i(),r(11),i(),n(12,"p")(13,"strong"),r(14,"Altura:"),i(),r(15),i(),n(16,"p")(17,"strong"),r(18,"Peso:"),i(),r(19),i(),n(20,"p")(21,"strong"),r(22,"Temperatura:"),i(),r(23),i(),n(24,"p")(25,"strong"),r(26,"Presi\xF3n:"),i(),r(27),i(),x(28,Fe,5,1,"div",5),i()),o&2){let e=d.$implicit;l(2),w("Turno - ",J(3,8,e.fecha_turno,"short"),""),l(5),w(" ",e.especialista_nombre||"N/A",""),l(4),w(" ",e.especialidad||"N/A",""),l(4),w(" ",e.altura||"N/A",""),l(4),w(" ",e.peso||"N/A",""),l(4),w(" ",e.temperatura||"N/A",""),l(4),w(" ",e.presion||"N/A",""),l(),m("ngIf",e.datos_dinamicos)}}function ze(o,d){if(o&1&&(n(0,"div"),x(1,We,29,11,"div",57),i()),o&2){let e=c(2);l(),m("ngForOf",e.selectedHistoriaClinica)}}function He(o,d){o&1&&(n(0,"p"),r(1,"No se encontraron historias cl\xEDnicas para este paciente."),i())}function Be(o,d){if(o&1){let e=y();n(0,"div",53)(1,"div",54)(2,"h3"),r(3),i(),n(4,"button",55),v("click",function(){p(e);let t=c();return u(t.closeHistoriaClinicaModal())}),r(5,"X"),i(),x(6,ze,2,1,"div",56)(7,He,2,0,"ng-template",null,0,Q),i()()}if(o&2){let e=q(8),a=c();l(3),w("Historia Cl\xEDnica de ",a.selectedPatientName,""),l(3),m("ngIf",a.selectedHistoriaClinica.length>0)("ngIfElse",e)}}var M=fe(z.apiUrl,z.publicAnonKey),et=(()=>{class o{constructor(){this.loading=!1,this.usuarios=[],this.groupedUsers={especialista:[],paciente:[],administrador:[]},this.nuevoUsuario={tipo_usuario:"",nombre:"",apellido:"",edad:null,dni:"",email:"",password:"",obra_social:"",especialidadSeleccionada:"",nuevaEspecialidad:""},this.imagenes=[],this.mensaje="",this.mensaje2="",this.especialidades=["Cardiolog\xEDa","Pediatr\xEDa","Traumatolog\xEDa","Dermatolog\xEDa"],this.showHistoriaClinicaModal=!1,this.selectedHistoriaClinica=[],this.selectedPatientName=""}ngOnInit(){return N(this,null,function*(){this.loading=!0;let{data:e,error:a}=yield M.from("usuarios").select("*");a?(console.error("Error fetching users:",a),this.mensaje2="Error al cargar los usuarios."):e&&(this.usuarios=e,this.groupUsersByType()),this.loading=!1})}groupUsersByType(){this.groupedUsers={especialista:[],paciente:[],administrador:[]},this.usuarios.forEach(e=>{this.groupedUsers[e.tipo_usuario]&&this.groupedUsers[e.tipo_usuario].push(e)})}cambiarEstado(e){return N(this,null,function*(){this.loading=!0;let{error:a}=yield M.from("usuarios").update({confirmado:!e.confirmado}).eq("id",e.id);a?(console.error("Error changing user status:",a),this.mensaje2="Error al cambiar el estado del especialista."):(e.confirmado=!e.confirmado,this.mensaje2=`Especialista ${e.confirmado?"habilitado":"inhabilitado"}.`),this.loading=!1})}onFilesSelected(e){this.imagenes=Array.from(e.target.files)}crearUsuario(){return N(this,null,function*(){this.mensaje="",this.loading=!0;let{email:e,password:a,tipo_usuario:t}=this.nuevoUsuario;if(!e||!a||!t){this.mensaje="Por favor, complet\xE1 los campos obligatorios.",this.loading=!1;return}let{data:s,error:O}=yield M.auth.signUp({email:e,password:a});if(O){this.mensaje="Error al registrar el usuario: "+O.message,this.loading=!1;return}let _=yield this.uploadImages();if(_===null){this.mensaje="Error al subir las im\xE1genes.",this.loading=!1;return}let E=[];if(t==="especialista"){this.nuevoUsuario.especialidadSeleccionada&&E.push(this.nuevoUsuario.especialidadSeleccionada);let g=this.nuevoUsuario.nuevaEspecialidad.trim();g&&!E.includes(g)&&E.push(g)}let T={id:s.user?.id,nombre:this.nuevoUsuario.nombre,apellido:this.nuevoUsuario.apellido,edad:this.nuevoUsuario.edad,dni:this.nuevoUsuario.dni,email:this.nuevoUsuario.email,tipo_usuario:t,imagenes:_,confirmado:t!=="especialista",created_at:new Date().toISOString()};t==="paciente"?T.obra_social=this.nuevoUsuario.obra_social:t==="especialista"&&(T.especialidad=E);let{error:I}=yield M.from("usuarios").insert([T]);I?this.mensaje="Error al guardar en base de datos: "+I.message:(this.mensaje="Usuario creado exitosamente.",yield this.ngOnInit(),this.resetFormulario()),this.loading=!1})}uploadImages(){return N(this,null,function*(){let e=[],a=M.storage.from("images");for(let t of this.imagenes){let s=`users/${Date.now()}-${t.name}`,{data:O,error:_}=yield a.upload(s,t);if(_)return console.error("Error uploading image:",_),null;let{data:E}=a.getPublicUrl(s);if(E)e.push(E.publicUrl);else return console.error("No public URL found for uploaded image:",s),null}return e})}getImageUrl(e){let{data:a}=M.storage.from("images").getPublicUrl(e);return a.publicUrl}resetFormulario(){this.nuevoUsuario={tipo_usuario:"",nombre:"",apellido:"",edad:null,dni:"",email:"",password:"",obra_social:"",especialidadSeleccionada:"",nuevaEspecialidad:""},this.imagenes=[]}exportarUsuariosExcel(){let e=this.usuarios.map(_=>({Tipo:_.tipo_usuario,Nombre:`${_.nombre} ${_.apellido}`,Email:_.email,Edad:_.edad,DNI:_.dni,Confirmado:_.confirmado?"S\xED":"No"})),t={Sheets:{Usuarios:B.json_to_sheet(e)},SheetNames:["Usuarios"]},s=H(t,{bookType:"xlsx",type:"array"}),O=new Blob([s],{type:"application/octet-stream"});L.saveAs(O,"usuarios-clinica.xlsx")}descargarTurnosUsuario(e){return N(this,null,function*(){this.loading=!0,this.mensaje2="";try{let a=[],t=new Map,s=new Map;if(e.tipo_usuario==="paciente"){let{data:g,error:f}=yield M.from("turnos").select("*, especialista_id, paciente_id, fecha_hora, especialidad, estado").eq("paciente_id",e.id);if(f)throw f;a=g||[];let h=[...new Set(a.map(C=>C.especialista_id).filter(Boolean))];if(h.length>0){let{data:C,error:V}=yield M.from("usuarios").select("id, nombre, apellido").in("id",h);if(V)throw V;C.forEach(k=>t.set(k.id,`${k.nombre} ${k.apellido}`))}}else if(e.tipo_usuario==="especialista"){let{data:g,error:f}=yield M.from("turnos").select("*, especialista_id, paciente_id, fecha_hora, especialidad, estado").eq("especialista_id",e.id);if(f)throw f;a=g||[];let h=[...new Set(a.map(C=>C.paciente_id).filter(Boolean))];if(h.length>0){let{data:C,error:V}=yield M.from("usuarios").select("id, nombre, apellido").in("id",h);if(V)throw V;C.forEach(k=>s.set(k.id,`${k.nombre} ${k.apellido}`))}}else{this.mensaje2="No se pueden exportar turnos para este tipo de usuario.",this.loading=!1;return}if(a.length===0){this.mensaje2=`No se encontraron turnos para ${e.nombre} ${e.apellido}.`,this.loading=!1;return}let O=a.map(g=>{let f=g.especialista_id&&t.get(g.especialista_id)||"N/A",h=g.paciente_id&&s.get(g.paciente_id)||"N/A";return{"Fecha y Hora":new Date(g.fecha_hora).toLocaleString("es-AR"),Especialidad:g.especialidad||"N/A","Estado del Turno":g.estado||"N/A",Especialista:f,Paciente:h}}),E={Sheets:{Turnos:B.json_to_sheet(O)},SheetNames:["Turnos"]},T=H(E,{bookType:"xlsx",type:"array"}),I=new Blob([T],{type:"application/octet-stream"});L.saveAs(I,`turnos-${e.nombre}-${e.apellido}.xlsx`),this.mensaje2=`Turnos de ${e.nombre} ${e.apellido} exportados correctamente.`}catch(a){console.error("Error al descargar turnos:",a),this.mensaje2=`Error al descargar los turnos: ${a.message||"Error desconocido"}.`}finally{this.loading=!1}})}verHistoriaClinica(e,a){return N(this,null,function*(){this.loading=!0,this.selectedHistoriaClinica=[],this.selectedPatientName=a;try{let{data:t,error:s}=yield M.from("turnos").select("id, especialista_id, especialidad, fecha_hora").eq("paciente_id",e);if(s){console.error("Error fetching turnos for patient:",s),this.mensaje2="Error al cargar los turnos del paciente.",this.loading=!1;return}if(t&&t.length>0){let O=t.map(f=>f.id),_=[...new Set(t.map(f=>f.especialista_id))],{data:E,error:T}=yield M.from("historias_clinicas").select("*").in("turno_id",O);if(T){console.error("Error fetching historias clinicas:",T),this.mensaje2="Error al cargar las historias cl\xEDnicas.",this.loading=!1;return}let I=new Map;if(_.length>0){let{data:f,error:h}=yield M.from("usuarios").select("id, nombre, apellido").in("id",_);if(h){console.error("Error fetching specialists:",h),this.mensaje2="Error al cargar los datos de los especialistas.",this.loading=!1;return}f.forEach(C=>{I.set(C.id,`${C.nombre} ${C.apellido}`)})}let g=E.map(f=>{let h=t.find(xe=>xe.id===f.turno_id),C=h?.especialista_id?I.get(h.especialista_id):"N/A",V=h?.especialidad||"N/A",k=h?.fecha_hora||f.fecha_creacion;return X($({},f),{especialista_nombre:C,especialidad:V,fecha_turno:k})});this.selectedHistoriaClinica=g}}catch(t){console.error("An unexpected error occurred:",t),this.mensaje2="Ocurri\xF3 un error inesperado al cargar la historia cl\xEDnica."}finally{this.loading=!1,this.showHistoriaClinicaModal=!0}})}closeHistoriaClinicaModal(){this.showHistoriaClinicaModal=!1,this.selectedHistoriaClinica=[],this.selectedPatientName=""}getObjectKeys(e){return Object.keys(e)}static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275cmp=R({type:o,selectors:[["app-usuarios"]],standalone:!0,features:[K],decls:10,vars:3,consts:[["noHistoria",""],["rel","stylesheet","href",G`https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css`],[1,"usuarios-container"],[3,"click"],["class","loading-overlay",4,"ngIf"],[4,"ngIf"],["class","modal-overlay",4,"ngIf"],[1,"loading-overlay"],[1,"spinner"],[1,"users-sections-container"],["class","mensaje",4,"ngIf"],["class","tipo-seleccion",4,"ngIf"],["class","form",4,"ngIf"],[1,"btn-container"],["routerLink","/home"],[1,"user-section"],[1,"users-grid"],["class","user-card",4,"ngFor","ngForOf"],[1,"user-card"],[1,"fav-button",3,"click"],["alt","User Image",1,"user-image",3,"src"],[1,"user-name"],[1,"fas","fa-download","download-icon"],[1,"user-actions"],["class","action-button",3,"click",4,"ngIf"],[1,"action-button",3,"click"],[1,"mensaje"],[1,"tipo-seleccion"],[1,"tipo-opciones"],[1,"opcion",3,"click"],["src","assets/paciente.png","alt","Paciente"],["src","assets/especialista.png","alt","Especialista"],["src","assets/admin.png","alt","Administrador"],[1,"form"],["type","button",1,"btn-volver",3,"click"],[1,"form-group"],["name","nombre","type","text","placeholder","Nombre",3,"ngModelChange","ngModel"],["name","apellido","type","text","placeholder","Apellido",3,"ngModelChange","ngModel"],["name","edad","type","number","placeholder","Edad",3,"ngModelChange","ngModel"],["name","dni","type","text","placeholder","DNI",3,"ngModelChange","ngModel"],["name","email","type","email","placeholder","Email",3,"ngModelChange","ngModel"],["name","password","type","password","placeholder","Password",3,"ngModelChange","ngModel"],["type","file","multiple","",3,"change"],["type","button",3,"click"],["name","especialidadSeleccionada",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["name","nuevaEspecialidad","type","text","placeholder","Especialidad adicional",3,"ngModelChange","ngModel"],[3,"value"],["name","obra_social",3,"ngModelChange","ngModel"],["value","Swiss Medical"],["value","Galeno"],["value","OSDE"],[1,"modal-overlay"],[1,"modal-content"],[1,"modal-close-button",3,"click"],[4,"ngIf","ngIfElse"],["class","historia-item",4,"ngFor","ngForOf"],[1,"historia-item"],[4,"ngFor","ngForOf"]],template:function(a,t){a&1&&(b(0,"link",1),n(1,"div",2)(2,"h2"),r(3,"Gesti\xF3n de Usuarios"),i(),n(4,"button",3),v("click",function(){return t.exportarUsuariosExcel()}),r(5,"\u{1F4E5} Exportar a Excel (Todos los Usuarios)"),i(),b(6,"br"),x(7,Ce,2,0,"div",4)(8,De,16,7,"div",5),i(),x(9,Be,9,3,"div",6)),a&2&&(l(7),m("ngIf",t.loading),l(),m("ngIf",!t.loading),l(),m("ngIf",t.showHistoriaClinicaModal))},dependencies:[ie,Z,ee,te,oe,ne,ge,de,ue,_e,ae,me,pe,re,se,ce,le],styles:[`.usuarios-container[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;background-color:#ccc8ad;background-image:url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M 0 0 L 40 40 M 40 0 L 0 40' stroke='%23c5e1a5' stroke-width='0.5'/%3E%3C/svg%3E");background-repeat:repeat;padding:2rem;display:flex;flex-direction:column;align-items:center;min-height:100vh;box-sizing:border-box}.usuarios-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2d6a4f;margin-bottom:.8rem;text-align:center;width:100%;font-size:2.2rem;font-weight:600;padding-bottom:.5rem;border-bottom:2px solid rgba(45,106,79,.2);margin-top:.5rem}.usuarios-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#2d6a4f;margin-top:2rem;margin-bottom:1rem;text-align:center;width:100%;font-size:1.8rem;font-weight:500;opacity:.9}.usuarios-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#4caf50;margin-top:0;margin-bottom:1.5rem;text-align:center;width:100%;font-size:1.4rem;font-weight:400;opacity:.8}.mensaje[_ngcontent-%COMP%]{margin:1.5rem 0;color:#0a3622;background:#d1e7dd;padding:.75rem 1rem;border-radius:.5rem;width:100%;max-width:800px;text-align:center;box-shadow:0 2px 5px #0000000d}.users-sections-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:2rem;width:100%;max-width:1200px;margin-bottom:2rem}.user-section[_ngcontent-%COMP%]{flex:1;min-width:250px;background-color:#fffbf0;padding:1.5rem;border-radius:.8rem;box-shadow:0 4px 15px #00000014;display:flex;flex-direction:column;align-items:center}.users-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:1rem;width:100%;justify-content:center;place-items:center;margin-bottom:0}.user-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:1rem;background-color:#fffbf0;border-radius:.8rem;box-shadow:0 2px 8px #0000000d;text-align:center;transition:transform .2s ease,box-shadow .2s ease;width:100%;max-width:160px;justify-content:space-between;min-height:200px}.user-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 4px 12px #0000001a}.fav-button[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:.5rem;background-color:#74c69d;display:flex;flex-direction:column;justify-content:center;align-items:center;cursor:pointer;border:3px solid #2d6a4f;overflow:hidden;position:relative;transition:background-color .2s ease,transform .2s ease;padding:0;margin-bottom:.5rem}.fav-button[_ngcontent-%COMP%]:hover{background-color:#52b788;transform:scale(1.02)}.user-image[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:0;object-fit:cover;border:none;box-shadow:none;position:static;transform:none}.user-name[_ngcontent-%COMP%]{color:#fff;font-weight:700;font-size:.9em;position:absolute;bottom:0;left:0;right:0;background-color:#0009;width:100%;padding:4px 0;text-align:center;line-height:1.2;box-sizing:border-box}.download-icon[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;color:#c5e1a5;font-size:1.3em;background-color:#2d6a4fcc;border-radius:50%;padding:5px;box-shadow:0 1px 4px #0003;transition:transform .2s ease;z-index:1}.fav-button[_ngcontent-%COMP%]:hover   .download-icon[_ngcontent-%COMP%]{transform:scale(1.1)}.user-type[_ngcontent-%COMP%]{display:none;margin-top:0;margin-bottom:0;font-size:0;height:0;overflow:hidden;visibility:hidden}.user-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;width:100%;padding:0 5px;margin-top:auto;padding-top:.5rem}.action-button[_ngcontent-%COMP%]{padding:.6rem .8rem;font-size:.85rem;border-radius:.4rem;width:100%;background-color:#74c69d;color:#fff;box-shadow:0 1px 3px #0000001a}.action-button[_ngcontent-%COMP%]:hover{background-color:#52b788}button[_ngcontent-%COMP%]{padding:.7rem 1.4rem;background-color:#52b788;border:none;color:#fff;border-radius:.3rem;cursor:pointer;font-weight:700;transition:background-color .2s ease,transform .1s ease;box-shadow:0 2px 4px #0000001a;margin-bottom:1.5rem;margin-top:.5rem}button[_ngcontent-%COMP%]:hover{background-color:#40916c;transform:translateY(-1px)}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem;width:100%;max-width:800px;padding-top:1.5rem}fieldset[_ngcontent-%COMP%]{border:1px solid #74c69d;border-radius:.5rem;padding:1.2rem;background-color:#f8fdf6;box-shadow:0 2px 8px #0000000d}legend[_ngcontent-%COMP%]{padding:0 .5rem;font-weight:700;color:#2d6a4f;font-size:1.1rem}.form-group[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:1.2rem;margin-top:.8rem}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{width:100%;font-size:1rem}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{padding:.7rem;border:1px solid #ccc;border-radius:.4rem}input[type=file][_ngcontent-%COMP%]{padding:.3rem}.form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{align-self:flex-end;max-width:200px;margin-top:1.5rem;background-color:#2d6a4f}.form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#1b4332}.btn-container[_ngcontent-%COMP%]{margin-top:2rem}.file-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.file-group[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{width:auto}.file-label[_ngcontent-%COMP%]{font-size:1rem;color:#2d6a4f;white-space:nowrap}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#ffffffb3;display:flex;justify-content:center;align-items:center;z-index:9999}.spinner[_ngcontent-%COMP%]{border:6px solid #cfe3d8;border-top:6px solid #2d6a4f;border-radius:50%;width:60px;height:60px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:20% auto auto}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.tipo-seleccion[_ngcontent-%COMP%]{text-align:center;margin-bottom:2.5rem}.tipo-opciones[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:2rem;margin-top:1.5rem;flex-wrap:wrap}.opcion[_ngcontent-%COMP%]{cursor:pointer;text-align:center;transition:transform .2s ease,box-shadow .2s ease;padding:1rem;border-radius:.5rem;background-color:#e6f1ec;border:1px solid #a8dadc;box-shadow:0 2px 5px #0000000d}.opcion[_ngcontent-%COMP%]:hover{transform:scale(1.05);background-color:#d1e7dd;box-shadow:0 4px 10px #0000001a}.opcion[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;object-fit:contain;margin-bottom:.8rem}.opcion[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;font-weight:700;color:#2d6a4f}.btn-volver[_ngcontent-%COMP%]{background-color:#d00000;color:#fff;margin-bottom:1rem;max-width:200px;box-shadow:0 2px 4px #0000001a}.btn-volver[_ngcontent-%COMP%]:hover{background-color:#9d0208}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#0009;display:flex;justify-content:center;align-items:center;z-index:10000;padding:1rem;box-sizing:border-box}.modal-content[_ngcontent-%COMP%]{background-color:#fffbf0;padding:2rem;border-radius:.8rem;box-shadow:0 5px 15px #0000004d;max-width:90%;max-height:90%;overflow-y:auto;position:relative;width:700px}.modal-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#2d6a4f;margin-top:0;margin-bottom:1.5rem;text-align:center;font-size:1.8rem}.modal-close-button[_ngcontent-%COMP%]{position:absolute;top:1rem;right:1rem;background:none;border:none;font-size:1.5rem;color:#d00000;cursor:pointer;padding:0;line-height:1}.modal-close-button[_ngcontent-%COMP%]:hover{color:#9d0208;transform:scale(1.1)}.historia-item[_ngcontent-%COMP%]{background-color:#e6f1ec;border:1px solid #74c69d;border-radius:.5rem;padding:1rem;margin-bottom:1rem}.historia-item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#1b4332;margin-top:0;margin-bottom:.8rem;border-bottom:1px solid #a8dadc;padding-bottom:.5rem}.historia-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:.5rem;color:#333}.historia-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#2d6a4f}.historia-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding-left:0;margin-top:.5rem}.historia-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.3rem}@media (max-width: 1024px){.users-sections-container[_ngcontent-%COMP%]{flex-direction:column;gap:1.5rem}.user-section[_ngcontent-%COMP%]{width:100%;max-width:500px}.users-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(180px,1fr))}}@media (max-width: 768px){.usuarios-container[_ngcontent-%COMP%]{padding:1rem}.users-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:1rem}.fav-button[_ngcontent-%COMP%]{width:100px;height:100px}.user-name[_ngcontent-%COMP%]{font-size:.8em}.form-group[_ngcontent-%COMP%]{grid-template-columns:1fr}.opcion[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px}.tipo-opciones[_ngcontent-%COMP%]{gap:1rem}.modal-content[_ngcontent-%COMP%]{padding:1.5rem;max-width:95%}.modal-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem}}`]})}}return o})();export{et as UsuariosComponent};
